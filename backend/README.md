# Backend Schedule Breakdown

4 weeks left

- Week 3 (11/3-11/9) : Complete CRUD for recipes
- Week 4 (11/10-11/16) : Work on additional APIs
- Week 5 (11/17-11/23): Test backend APIs from frontend UI and bug fix
- Week 6 (11/24-11/30): Test backend APIs from frontend UI and bug fix

# API Documentation
<<<<<<< HEAD

# Table of Contents

### Users

- [POST /users/signup](#post-userssignup)
- [POST /users/signin](#post-userssignin)
- [POST /users/update](#post-usersupdate)
- [GET /users](#get-users)

### Recipes

- [POST /recipes/add](#post-recipesadd)
- [GET /recipes/listRecs](#get-recipeslistrecs)
- [GET /recipes/:id](#get-recipesid)

# Users

## POST /users/signup
=======

# Table of Contents

### Users

- [POST /users/signup](#post-userssignup)
- [POST /users/signin](#post-userssignin)
- [POST /users/update](#post-usersupdate)
- [GET /users](#get-users)

### Recipes

- [POST /recipes/add](#post-recipesadd)
- [GET /recipes/listRecs](#get-recipeslistrecs)
- [GET /recipes/:id](#get-recipesid)

# Users

<<<<<<< HEAD
## POST /signup
>>>>>>> ad1814d... Update readme
=======
## POST /users/signup
>>>>>>> 1ad32aa... Update readme

### Request body:

| Property                | Description         |
| ----------------------- | ------------------- |
| email: String           | email address       |
| password: String        | password            |
| confirmPassword: String | password to confirm |

### Response:

| Property                | Description                               |
| ----------------------- | ----------------------------------------- |
| \_id: String            | document id generated by mongodb          |
| uid: String             | user id generated by firebase             |
| email: String           | email address                             |
| displayName: String     | if available from google, otherwise null  |
| preferences: [String]   | empty on signup, update after questionare |
| photoURL: String        | if available from google, otherwise null  |
| country: String         | empty on signup, update after questionare |
| cuisine: String         | empty on signup, update after questionare |
| createdAt: String(Date) | generated by mongodb                      |
| updatedAt: String(Date) | generated by mongodb                      |
| token: String           | id token                                  |

### Errors:

- username, password, confirm password are empty
- email format is not correct
- password and confirmPassword don't match
- username already exist (firebase)
- password length is 6 or less (firebase)

<<<<<<< HEAD
<<<<<<< HEAD
## POST /users/signin
=======
### Example response (JSON):

```
{
  "_id": "5db74f50af6e1e2962b12cfc",
  "uid": "kEfnyjtOEpX2MIKBQrVtDv9yTEm2",
  "email": "test@test.com",
  "displayName": "",
  "photoURL": "",
  "preferences": [],
  "country": "",
  "cuisine": "",
  "createdAt": "2019-10-28T20:28:00.641Z",
  "updatedAt": "2019-10-28T20:28:00.641Z",
  "__v": 0,
  "token": "eyJhbGciOiJSUzI1Ni..."
}
```

## POST /signin
>>>>>>> ad1814d... Update readme
=======
## POST /users/signin
>>>>>>> 1ad32aa... Update readme

### Request body:

| Property         | Description   |
| ---------------- | ------------- |
| email: String    | email address |
| password: String | password      |

### Response:

| Property                | Description                               |
| ----------------------- | ----------------------------------------- |
| \_id: String            | document id generated by mongodb          |
| uid: String             | user id generated by firebase             |
| email: String           | email address                             |
| displayName: String     | if available from google, otherwise null  |
| preferences: [String]   | empty on signup, update after questionare |
| photoURL: String        | if available from google, otherwise null  |
| country: String         | empty on signup, update after questionare |
| cuisine: String         | empty on signup, update after questionare |
| createdAt: String(Date) | generated by mongodb                      |
| updatedAt: String(Date) | generated by mongodb                      |
| token: String           | id token                                  |

### Errors:

- username or password are empty
- email format is not correct
- no user is found
- password is wrong

<<<<<<< HEAD
<<<<<<< HEAD
## POST /users/update

### Request body:

| Property     | Description                           |
| ------------ | ------------------------------------- |
| user: Object | all user info (overwrite existing db) |

### Response:

| Property                | Description                              |
| ----------------------- | ---------------------------------------- |
| \_id: String            | document id generated by mongodb         |
| uid: String             | user id generated by firebase            |
| email: String           | email address                            |
| displayName: String     | if available from google, otherwise null |
| preferences: [String]   | update after questionare                 |
| photoURL: String        | if available from google, otherwise null |
| country: String         | update after questionare                 |
| cuisine: String         | update after questionare                 |
| createdAt: String(Date) | generated by mongodb                     |
| updatedAt: String(Date) | generated by mongodb                     |
| token: String           | id token                                 |

### Errors:

- auth token is not valid or expired
- user object contains one or more properties that have data types against Schema

## GET /users

### Request body:

| Property | Description |
| -------- | ----------- |
| N/A      | N/A         |

### Response:

=======
### Example response (JSON):

```
{
  "_id": "5db74f50af6e1e2962b12cfc",
  "uid": "kEfnyjtOEpX2MIKBQrVtDv9yTEm2",
  "email": "test@test.com",
  "displayName": "",
  "photoURL": "",
  "preferences": [],
  "country": "",
  "cuisine": "",
  "createdAt": "2019-10-28T20:28:00.641Z",
  "updatedAt": "2019-10-28T20:28:00.641Z",
  "__v": 0,
  "token": "eyJhbGciOiJSUzI1Ni..."
}
```

## POST /update
=======
## POST /users/update
>>>>>>> 1ad32aa... Update readme

### Request body:

| Property     | Description                           |
| ------------ | ------------------------------------- |
| user: Object | all user info (overwrite existing db) |

### Response:

>>>>>>> ad1814d... Update readme
| Property                | Description                              |
| ----------------------- | ---------------------------------------- |
| \_id: String            | document id generated by mongodb         |
| uid: String             | user id generated by firebase            |
| email: String           | email address                            |
| displayName: String     | if available from google, otherwise null |
| preferences: [String]   | update after questionare                 |
| photoURL: String        | if available from google, otherwise null |
| country: String         | update after questionare                 |
| cuisine: String         | update after questionare                 |
| createdAt: String(Date) | generated by mongodb                     |
| updatedAt: String(Date) | generated by mongodb                     |
<<<<<<< HEAD
=======
| token: String           | id token                                 |
>>>>>>> ad1814d... Update readme

### Errors:

- auth token is not valid or expired
<<<<<<< HEAD
=======
- user object contains one or more properties that have data types against Schema

<<<<<<< HEAD
### Example response (JSON):

```
{
  "_id":"5db2040223ce541c116f2801",
  "uid":"YqSs20fkGJcHguiGsFLUlx0GryO2",
  "email":"test@test.com",
  "displayName":"Kiki",
  "preferences":["mexican", "spicy", "vegitarian"],
  "photoURL":"",
  "country":"United States",
  "cuisine":"Korean",
  "createdAt":"2019-10-24T20:05:22.968Z",
  "updatedAt":"2019-10-24T20:05:22.968Z",
  "__v":0
}
```
>>>>>>> ad1814d... Update readme
=======
## GET /users

### Request body:

| Property | Description |
| -------- | ----------- |
| N/A      | N/A         |

### Response:

| Property                | Description                              |
| ----------------------- | ---------------------------------------- |
| \_id: String            | document id generated by mongodb         |
| uid: String             | user id generated by firebase            |
| email: String           | email address                            |
| displayName: String     | if available from google, otherwise null |
| preferences: [String]   | update after questionare                 |
| photoURL: String        | if available from google, otherwise null |
| country: String         | update after questionare                 |
| cuisine: String         | update after questionare                 |
| createdAt: String(Date) | generated by mongodb                     |
| updatedAt: String(Date) | generated by mongodb                     |

### Errors:

- auth token is not valid or expired
>>>>>>> 1ad32aa... Update readme

---

# Recipes
<<<<<<< HEAD
<<<<<<< HEAD
=======
>>>>>>> 1ad32aa... Update readme

## POST /recipes/add

### Request body:

| Property              | Description                                 |
| --------------------- | ------------------------------------------- |
| title: String         |                                             |
| ingredients: [String] |                                             |
| directions: [String]  |                                             |
| prepTime: Number      |                                             |
| cookTime: Number      |                                             |
| servingSize: Number   |                                             |
| category: String      |                                             |
| cuisine: String       |                                             |
| footNote: [String]    |                                             |
| difficulty: Number    |                                             |
| mainImage: String     | url of the image                            |
| images: [String]      | array of urls of the images                 |
| tags: [String]        | will be used for recommendations and search |

### Response:

| Property              | Description                                   |
| --------------------- | --------------------------------------------- |
| \_id: String          | recipe id                                     |
| title: String         |                                               |
| ingredients: [String] |                                               |
| directions: [String]  |                                               |
| prepTime: Number      |                                               |
| cookTime: Number      |                                               |
| totalTime: Number     | prepTime + cookTime                           |
| servingSize: Number   |                                               |
| category: String      |                                               |
| cuisine: String       |                                               |
| footNote: [String]    |                                               |
| difficulty: Number    |                                               |
| mainImage: String     | url of the image                              |
| images: [String]      | array of urls of the images                   |
| tags: [String]        | will be used for recommendations and search   |
| rating: Number        | zero at first, will be updated by other users |
| uid: String           | creator's user id                             |
| createdAt: String     |                                               |
| updatedAt: String     |                                               |

### Errors:

- auth token is not valid or expired

## GET /recipes/listRecs

### Request body:

| Property | Description |
| -------- | ----------- |
| N/A      | N/A         |

### Response:

- Array of below response

| Property          | Description                                   |
| ----------------- | --------------------------------------------- |
| \_id: String      | recipe id                                     |
| title: String     |                                               |
| mainImage: String | url of the image                              |
| tags: [String]    | will be used for recommendations and search   |
| rating: Number    | zero at first, will be updated by other users |

| ingredients: [String] | |
| directions: [String] | |
| prepTime: Number | |
| cookTime: Number | |
| totalTime: Number | prepTime + cookTime |
| servingSize: Number | |
| category: String | |
| cuisine: String | |
| footNote: [String] | |
| difficulty: Number | |
| images: [String] | array of urls of the images |
| uid: String | creator's user id |
| createdAt: String | |
| updatedAt: String | |

### Errors:

- auth token is not valid or expired
-

## GET /recipes/:id

### Request body:

| Property | Description |
| -------- | ----------- |
| \_id     | recipe id   |

### Response:

| Property              | Description                                   |
| --------------------- | --------------------------------------------- |
| \_id: String          | recipe id                                     |
| title: String         |                                               |
| ingredients: [String] |                                               |
| directions: [String]  |                                               |
| prepTime: Number      |                                               |
| cookTime: Number      |                                               |
| totalTime: Number     | prepTime + cookTime                           |
| servingSize: Number   |                                               |
| category: String      |                                               |
| cuisine: String       |                                               |
| footNote: [String]    |                                               |
| difficulty: Number    |                                               |
| mainImage: String     | url of the image                              |
| images: [String]      | array of urls of the images                   |
| tags: [String]        | will be used for recommendations and search   |
| rating: Number        | zero at first, will be updated by other users |
| uid: String           | creator's user id                             |
| createdAt: String     |                                               |
| updatedAt: String     |                                               |
<<<<<<< HEAD
=======
>>>>>>> ad1814d... Update readme
=======
>>>>>>> 1ad32aa... Update readme
